"use strict";(self.webpackChunkbear_react_carousel_doc=self.webpackChunkbear_react_carousel_doc||[]).push([[6409],{3905:(e,t,i)=>{i.d(t,{Zo:()=>u,kt:()=>g});var n=i(7294);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}var l=n.createContext({}),c=function(e){var t=n.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},h="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var i=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),h=c(i),f=s,g=h["".concat(l,".").concat(f)]||h[f]||d[f]||r;return i?n.createElement(g,o(o({ref:t},u),{},{components:i})):n.createElement(g,o({ref:t},u))}));function g(e,t){var i=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=i.length,o=new Array(r);o[0]=f;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a[h]="string"==typeof e?e:s,o[1]=a;for(var c=2;c<r;c++)o[c]=i[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,i)}f.displayName="MDXCreateElement"},1262:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(7294),s=i(2389);function r(e){let{children:t,fallback:i}=e;return(0,s.Z)()?n.createElement(n.Fragment,null,t?.()):i??null}},5962:(e,t,i)=>{i.d(t,{B2:()=>de,ZP:()=>ue,e3:()=>he,eb:()=>P});var n,s=i(7294),r=Object.defineProperty,o=(e,t,i)=>(((e,t,i)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i),a={},l={get exports(){return a},set exports(e){a=e}},c={};function u(e,t){var i=[];for(var n in e)t(e,n)&&i.push(n);return i.concat(Object.getOwnPropertySymbols(e).filter((t=>Object.getOwnPropertyDescriptor(e,t).enumerable)))}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return h(e,t)&&void 0!==e[t]}function f(e){return null!==e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName&&"function"==typeof e.isEqualNode}function g(e){return!!e&&function(e,t){return Object.prototype.toString.apply(t)==="[object "+e+"]"}("Function",e.asymmetricMatch)}l.exports=function(){if(n)return c;n=1;var e=s,t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,i,n){var s,l={},c=null,u=null;for(s in void 0!==n&&(c=""+n),void 0!==i.key&&(c=""+i.key),void 0!==i.ref&&(u=i.ref),i)r.call(i,s)&&!a.hasOwnProperty(s)&&(l[s]=i[s]);if(e&&e.defaultProps)for(s in i=e.defaultProps)void 0===l[s]&&(l[s]=i[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:o.current}}return c.Fragment=i,c.jsx=l,c.jsxs=l,c}();const _=(e,t,i,n,s,r)=>{s=s||[];var o=!0,a=function(e,t){var i=g(e),n=g(t);if(!i||!n){if(i)return e.asymmetricMatch(t);if(n)return t.asymmetricMatch(e)}}(e,t);if(void 0!==a)return a;for(var l=0;l<s.length;l++){var c=s[l](e,t);if(void 0!==c)return c}if(e instanceof Error&&t instanceof Error)return e.message==t.message;if(Object.is(e,t))return!0;if(null===e||null===t)return e===t;var h=Object.prototype.toString.call(e);if(h!=Object.prototype.toString.call(t))return!1;switch(h){case"[object Boolean]":case"[object String]":case"[object Number]":return typeof e==typeof t&&("object"!=typeof e&&"object"!=typeof t?Object.is(e,t):Object.is(e.valueOf(),t.valueOf()));case"[object Date]":return+e==+t;case"[object RegExp]":return e.source===t.source&&e.flags===t.flags}if("object"!=typeof e||"object"!=typeof t)return!1;if(f(e)&&f(t))return e.isEqualNode(t);for(var d=i.length;d--;){if(i[d]===e)return n[d]===t;if(n[d]===t)return!1}if(i.push(e),n.push(t),"[object Array]"==h&&e.length!==t.length)return!1;var m,p=u(e,r),v=p.length;if(u(t,r).length!==v)return!1;for(;v--;)if(!(o=r(t,m=p[v])&&_(e[m],t[m],i,n,s,r)))return!1;return i.pop(),n.pop(),o};function m(){try{return document.createEvent("MouseEvent"),!0}catch{return!1}}function p(e,t=0){const i=Number(e);return isNaN(i)?t:i}function v(e,t,i){return!1===function(e,t,i,n){const s=(null==n?void 0:n.customTesters)||[];return _(e,t,[],[],s,i?h:d)}(Object.keys(e).filter((t=>"function"!=typeof e[t]&&!i.includes(t))).map((t=>e[t])),Object.keys(t).filter((e=>"function"!=typeof t[e]&&!i.includes(e))).map((e=>t[e])))}function b(e,t=!0){if(e)return String(t)}const w=["color: #fff","display: block","line-height: 20px","padding-right: 8px"];function x(e,t,i){console.log(`%c ${e}`,t,i)}function E(e,t){x(e,w.concat(["background-color: #17a2b8"]).join(";"),t)}const y={primary:function(e,t){x(e,w.concat(["background-color: #007bff"]).join(";"),t)},success:function(e,t){x(e,w.concat(["background-color: #28a745"]).join(";"),t)},info:E,warning:function(e,t){x(e,w.concat(["background-color: #ffc107"]).join(";"),t)},danger:function(e,t){x(e,w.concat(["background-color: #ec2127"]).join(";"),t)},printInText:function(e,t=!0){const i=document.getElementById("console");if(i){const t=new Date,n=[t.getMinutes(),t.getSeconds()].join("");i.value=`${n}: ${e}\n${i.value}`}else t&&E("mobile",e)}},P={root:"bear-react-carousel__root",content:"bear-react-carousel__content",container:"bear-react-carousel__container",containerInit:"bear-react-carousel__container-init",slideItem:"bear-react-carousel__slide-item",slideItemImg:"bear-react-carousel__slide-item__img",slideItemDiv:"bear-react-carousel__slide-item__div",navGroup:"bear-react-carousel__nav-group",navPrevButton:"bear-react-carousel__nav-prev-button",navNextButton:"bear-react-carousel__nav-next-button",navIcon:"bear-react-carousel__nav-icon",paginationGroup:"bear-react-carousel__pagination-group",paginationButton:"bear-react-carousel__pagination-button",paginationContent:"bear-react-carousel__pagination-content",testNumber:"bear-react-carousel__test-number",testWindowSize:"bear-react-carousel__window-size",cloneIconGroup:"bear-react-carousel__clone-icon-group",cloneIcon:"bear-react-carousel__clone-icon"},I=s.createContext({slidesPerView:1,staticHeight:void 0}),S=({slidesPerView:e,staticHeight:t,children:i})=>a.jsx(I.Provider,{value:{slidesPerView:e,staticHeight:t},children:i});function T(e){var t=new Error(e);return t.source="ulid",t}var j="0123456789ABCDEFGHJKMNPQRSTVWXYZ",A=j.length,M=Math.pow(2,48)-1;function C(e){var t=Math.floor(e()*A);return t===A&&(t=A-1),j.charAt(t)}var R=function(e){return e||(e=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t=typeof window<"u"?window:null);var i=t&&(t.crypto||t.msCrypto);if(i)return function(){var e=new Uint8Array(1);return i.getRandomValues(e),e[0]/255};try{var n=require("crypto");return function(){return n.randomBytes(1).readUInt8()/255}}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw T("secure crypto unusable, insecure Math.random not allowed")}()),function(t){return isNaN(t)&&(t=Date.now()),function(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>M)throw T("cannot encode time greater than "+M);if(e<0)throw T("time must be positive");if(!1===Number.isInteger(e))throw T("time must be an integer");for(var i=void 0,n="";t>0;t--)i=e%A,n=j.charAt(i)+n,e=(e-i)/A;return n}(t,10)+function(e,t){for(var i="";e>0;e--)i=C(t)+i;return i}(16,e)}}();function N(e){return{slidesPerView:e.slidesPerView,slidesPerGroup:e.slidesPerGroup,aspectRatio:e.aspectRatio,staticHeight:e.staticHeight,spaceBetween:e.spaceBetween,isCenteredSlides:e.isCenteredSlides,isEnableNavButton:e.isEnableNavButton,isEnablePagination:e.isEnablePagination,isEnablePageContent:e.isEnablePageContent,isEnableMouseMove:e.isEnableMouseMove,isEnableAutoPlay:e.isEnableAutoPlay,isEnableLoop:e.isEnableLoop,moveTime:e.moveTime,defaultActivePage:e.defaultActivePage,autoPlayTime:e.autoPlayTime,isDebug:e.isDebug}}function O(e,t){const i=(e.heightRatio/e.widthRatio*100/t).toFixed(2);return e.addStaticHeight?`calc(${i}% + ${e.addStaticHeight})`:`${i}%`}function k(e,t){const i=function(e,t){const i=t.filter((t=>t<=e)).sort(((e,t)=>Number(t)-Number(e)));return i.length>0?i[0]:0}(window.innerWidth,Object.keys(t).map(Number));let n=e;i>0&&(n=Object.assign(e,t[i]));const s="auto"===n.slidesPerView?1:p(n.slidesPerView,1);return{...n,slidesPerViewActual:s,isEnableLoop:"auto"!==n.slidesPerView&&n.isEnableLoop,slidesPerGroup:n.slidesPerGroup>s?s:p(n.slidesPerGroup,1)}}class D{constructor(e,t){o(this,"_setting"),o(this,"_carouselId",`bear-react-carousel_${R().toLowerCase()}`),o(this,"init",((e,t)=>{this._setting=k(t,e)})),this.init(e,t)}get carouselId(){return this._carouselId}get setting(){return this._setting}get style(){return[{targetEl:`#${this._carouselId}`,styles:[`padding-top: ${this.setting.aspectRatio&&"auto"!==this.setting.slidesPerView?O(this.setting.aspectRatio,this.setting.slidesPerView):"0"};`,`height: ${this.setting.staticHeight?`${this.setting.staticHeight}`:"inherit"};`]},{targetEl:`#${this.carouselId} .${P.slideItem}`,styles:[`flex: ${"auto"===this.setting.slidesPerView?"0 0 auto;-webkit-flex: 0 0 auto;":`1 0 ${100/this.setting.slidesPerViewActual}%`};`,`padding-left: ${this.setting.spaceBetween/2}px;`,`padding-right: ${this.setting.spaceBetween/2}px;`]}].map((e=>`${e.targetEl}{${e.styles.join("")}}`)).join("\r\n")}}class z{constructor(){o(this,"events",new Map)}on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}off(e,t){if(this.events.has(e)){const i=this.events.get(e),n=i.indexOf(t);n>=0&&i.splice(n,1)}}emit(e,...t){if(this.events.has(e))for(const i of this.events.get(e))i&&i(...t)}}var L=(e=>(e[e.mobile=0]="mobile",e[e.desktop=1]="desktop",e))(L||{});const V={[L.mobile]:"orientationchange",[L.desktop]:"resize"};class B{constructor(e,t){o(this,"_breakpoints"),o(this,"_size"),o(this,"_device"),o(this,"_eventManager",new z),o(this,"_window"),o(this,"_detectDevice",(()=>{if(function(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}())return L.mobile;if(m())return L.desktop;throw new Error("Unable to detect device type")})),o(this,"_setSize",(()=>{this._size=function(e,t){const i=t.filter((t=>t<=e)).sort(((e,t)=>Number(t)-Number(e)));return i.length>0?i[0]:0}(window.innerWidth,Object.keys(this._breakpoints).map(Number))})),o(this,"_emitResize",(()=>{this._setSize(),this._eventManager.emit("resize",{windowSize:this._size})})),o(this,"onResize",(e=>{this._window.addEventListener(V[this._device],this._emitResize,!1),this._eventManager.on("resize",e)})),o(this,"offResize",(e=>{this._window.removeEventListener(V[this._device],this._emitResize,!1),this._eventManager.off("resize",e)})),this._breakpoints=e,this._window=t,this._device=this._detectDevice(),this._setSize()}get size(){return this._size}get device(){return this._device}}class G{constructor(e,t){o(this,"_info"),o(this,"_formatElement"),o(this,"_configurator"),o(this,"_eventor",new z),o(this,"onChange",(e=>{this._eventor.on("change",e)})),o(this,"offChange",(()=>{this._eventor.off("change")})),o(this,"checkActualIndexInRange",(e=>{const{minIndex:t,maxIndex:i}=this.actual;return function(e,t){return e<=t.maxIndex&&e>=t.minIndex}(e,{minIndex:t,maxIndex:i})})),o(this,"init",((e=[])=>{const{slidesPerView:t,slidesPerViewActual:i,slidesPerGroup:n,isCenteredSlides:s,isEnablePagination:r,isEnableNavButton:o,isEnableLoop:a}=this._configurator.setting;let l=e.length;this.updateData(e);const c=this.formatElement.length,u=a?i:0,h=u,d={min:0,max:c-1};let f=Math.ceil(l/n);!a&&"auto"!==t&&!s&&(f-=t-n),this._info={sourceTotal:l,element:{activeIndex:0,firstIndex:0,lastIndex:c-1,total:c},actual:{activeIndex:0,minIndex:d.min,maxIndex:d.max,firstIndex:Math.ceil(u),lastIndex:Math.ceil(l+h-1)},page:{activePage:0,pageTotal:f},residue:c%n,isVisiblePagination:r&&this.formatElement.length>0,isVisibleNavButton:o&&this.formatElement.length>0},this._eventor.emit("change")})),o(this,"updateData",((e=[])=>{const{slidesPerViewActual:t,slidesPerGroup:i,isEnableLoop:n}=this._configurator.setting;return this._formatElement=function(e=[],t=1,i=1,n=!1){const s=[],r=n&&typeof window<"u";let o=0;const a="auto"===t?0:Math.ceil(t),l=e.length/i-(i-a);if(r){const t=e.length-a;for(const[i,n]of e.slice(-a).entries())s[o]={actualIndex:o,matchIndex:a+t+o,sourceIndex:e.length-1-i,inPage:l,isClone:!0,element:n.children},o+=1}let c=o,u=0;for(const[h,d]of e.entries())s[o]={key:String(d.key),actualIndex:o,matchIndex:o,sourceIndex:h,inPage:Math.ceil((u+1)/i),isClone:!1,element:d.children},o+=1,u+=1;if(r)for(const[h,d]of e.slice(0,a).entries())s[o]={key:`${d.key}_clone`,actualIndex:o,matchIndex:c,sourceIndex:h,inPage:1,isClone:!0,element:d.children},o+=1,c+=1;return s}(e,t,i,n),this.element})),o(this,"setActiveActual",((e,t)=>{this.actual.activeIndex=e,this.page.activePage=t,this._eventor.emit("change")})),this._configurator=e,this.init(t)}get nextPage(){return this._info.page.activePage+1}get nextPageFirstIndex(){const{setting:e}=this._configurator;return function(e,t,i,n){return e?t+i:t+n}(e.isCenteredSlides,this.actual.activeIndex,e.slidesPerGroup,e.slidesPerViewActual)}get prevPage(){var e;return(null==(e=this._info)?void 0:e.page.activePage)-1}get actual(){var e;return null==(e=this._info)?void 0:e.actual}get page(){var e;return null==(e=this._info)?void 0:e.page}get formatElement(){return this._formatElement}get element(){var e;return null==(e=this._info)?void 0:e.element}get residue(){var e;return(null==(e=this._info)?void 0:e.residue)??0}get isVisibleNavButton(){var e;return null==(e=this._info)?void 0:e.isVisibleNavButton}get isVisiblePagination(){var e;return null==(e=this._info)?void 0:e.isVisiblePagination}}const W=()=>a.jsxs("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:[a.jsx("path",{d:"M808.768 197.312c10.432 0 17.408 6.912 17.408 17.344l0 485.568c0 10.368-6.976 17.344-17.408 17.344l-87.296 0c-19.136 0-34.944 15.552-34.944 34.624 0 19.136 15.808 34.688 34.944 34.688l104.768 0c38.464 0 69.824-31.168 69.824-69.312l0-520.32C896 159.168 864.64 128 826.176 128l-384 0c-38.4 0-69.824 31.232-69.824 69.312l0 34.688c0 19.072 15.68 34.688 34.88 34.688 19.2 0 34.88-15.616 34.88-34.688L442.112 214.656c0-10.432 6.976-17.344 17.408-17.344L808.768 197.312z",fill:"#ffffff"}),a.jsx("path",{d:"M128 363.968l0 469.376C128 867.84 160.32 896 199.808 896l394.944 0c39.488 0 71.872-28.16 71.872-62.656L666.624 363.968c0-34.432-32.384-62.592-71.872-62.592L199.808 301.376C160.32 301.376 128 329.536 128 363.968z",fill:"#ffffff"})]}),$=()=>a.jsx("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:a.jsx("path",{d:"M723.882667 895.701333c-9.6 0-19.285333-3.2-27.39199999-9.6l-423.808-340.906666a43.733333 43.733333 0 0 1-1e-8-68.096L694.698667 137.984A43.690667 43.690667 0 0 1 749.397333 206.08l-379.605333 305.109333 381.525333 306.77333401a43.690667 43.690667 0 0 1-27.434666 77.73866599z",fill:"#ffffff"})}),U=(0,s.forwardRef)((({element:e,index:t,actualIndex:i,matchIndex:n,sourceIndex:s,inPage:r,isActive:o=!1,isClone:l=!1,isDebug:c=!1},u)=>a.jsxs("div",{className:P.slideItem,ref:u,"data-testid":"bear-carousel-slideItem","data-actual":i,"data-match":b(l,n),"data-page":r,"data-source":s,"data-active":b(o),"data-is-clone":b(l),children:[e,c&&a.jsxs("div",{className:P.testNumber,children:[s,l&&a.jsxs("div",{className:P.cloneIconGroup,children:[a.jsx("div",{className:P.cloneIcon,children:a.jsx(W,{})}),t]})]})]})));function H(e,t,i){return function(e){return Math.floor(100*e)/100}(-(e-t)/i)}class F{constructor(e){o(this,"_rootRef",(0,s.createRef)()),o(this,"_containerRef",(0,s.createRef)()),o(this,"_pageGroupRef",(0,s.createRef)()),o(this,"_navGroupRef",(0,s.createRef)()),o(this,"_slideItemRefs",(0,s.createRef)()),o(this,"_pageRefs",(0,s.createRef)()),o(this,"_configurator"),o(this,"_stater"),o(this,"_locator"),o(this,"_isAnimation",!1),o(this,"onSlideAnimation",(()=>{this.containerEl.addEventListener("transitionstart",this.animationStart,!1),this.containerEl.addEventListener("transitionend",this.animationEnd,!1)})),o(this,"offSlideAnimation",(()=>{this.containerEl.removeEventListener("transitionstart",this.animationStart,!1),this.containerEl.removeEventListener("transitionend",this.animationEnd,!1)})),o(this,"_getStartPosition",(e=>function(e,t,i){if(e){let e=0;return"auto"===t.slidesPerView&&(e=i.containerWidth/2-i.currItemWidth/2),e+i.currItemWidth*(t.slidesPerViewActual-1)/2}return 0}(this._configurator.setting.isCenteredSlides,{slidesPerView:this._configurator.setting.slidesPerView,slidesPerViewActual:this._configurator.setting.slidesPerViewActual},{containerWidth:this.rootEl.offsetWidth,currItemWidth:e}))),o(this,"getMovePercentage",(e=>{const{actual:t}=this._stater,i=this.slideItemEls[t.activeIndex].offsetWidth;return H(e,this._getStartPosition(i),i)})),o(this,"getPercentageToMovePx",(e=>{const{actual:t}=this._stater,i=this.slideItemEls[t.activeIndex].offsetWidth;return-i*e+this._getStartPosition(i)})),o(this,"getMoveDistance",(e=>{const t=this.slideItemEls[e];return this.slideItemEls[e]?function(e,t){return-e+t}(t.offsetLeft,this._getStartPosition(t.offsetWidth)):0})),o(this,"setNonSubjectTouch",(e=>{this.rootEl.setAttribute("data-touch",String(e))})),o(this,"syncActiveState",(e=>{var t,i,n;this.slideItemEls.forEach(((t,i)=>{!function(e,t,i){return t<=0&&0===e||t>=i&&e===i-1||t===e}(i,e,this.slideItemEls.length)?null!=t&&t.dataset.active&&t.removeAttribute("data-active"):t.setAttribute("data-active","true")}));const s=this.slideItemEls.find((e=>"true"===e.dataset.active)),r=parseInt(null==s?void 0:s.dataset.page);this._stater.isVisiblePagination&&this._stater.page.activePage>0&&this.pageEls.forEach(((e,t)=>{r===t+1?e.setAttribute("data-active","true"):null!=e&&e.dataset.active&&e.removeAttribute("data-active")}));const o=this._stater.isVisibleNavButton&&!this._configurator.setting.isEnableLoop;null==(t=this.navGroupEl)||t.setAttribute("data-first",b(o&&1===r)),null==(i=this.navGroupEl)||i.setAttribute("data-last",b(o&&r===this._stater.page.pageTotal));const a=1===this._stater.page.pageTotal;null==(n=this.rootEl)||n.setAttribute("data-onlyOne",a&&b(!0))})),o(this,"animationStart",(()=>{this._isAnimation=!0,this.containerEl.dataset.animation="true"})),o(this,"animationEnd",(()=>{this._isAnimation=!1,this.containerEl.removeAttribute("data-animation")})),this._slideItemRefs.current=[],this._pageRefs.current=[],this._configurator=e.configurator,this._stater=e.stater,this._locator=e.locator}get rootEl(){return this._rootRef.current}get containerEl(){return this._containerRef.current}get slideItemEls(){return this._slideItemRefs.current}get pageEls(){return this._pageRefs.current}get pageGroupEl(){return this._pageGroupRef.current}get navGroupEl(){return this._navGroupRef.current}get isUseAnimation(){return"0ms"!==this.containerEl.style.transitionDuration}get isAnimation(){return this._isAnimation}setSlideItemRefs(e,t){this._slideItemRefs.current[t]=e}setPageRefs(e,t){this._pageRefs.current[t]=e}transform(e,t=!1){return this.containerEl.style.transform=`translate(${e}px, 0px)`,this.containerEl.style.transitionDuration=t?`${this._configurator.setting.moveTime}ms`:"0ms",this}}function X(e){const t=window.getComputedStyle(e).transform,i=t.includes("3d")?"3d":"2d";let n=function(e){var t;const i=e.match(/matrix.*\((.+?)\)/);return null===i?[]:null==(t=i[1])?void 0:t.split(", ").map(Number)}(t);switch(i){case"2d":return{x:n[4]??0,y:n[5]??0,z:0};case"3d":return{x:n[12]??0,y:n[13]??0,z:n[14]};default:return{x:0,y:0,z:0}}}const Y={pageX:0,pageY:0,x:0,y:0};class Z{constructor(){o(this,"_startPosition",Y),o(this,"touchStart",((e,t)=>{const{x:i}=X(t);this._startPosition.x=e.x-i})),o(this,"touchMove",((e,t)=>t.offsetLeft+e.x))}get startPosition(){return this._startPosition}}class q{constructor(e){o(this,"_configurator"),o(this,"_stater"),o(this,"_locator"),o(this,"_elementor"),o(this,"_syncCarousel"),o(this,"_eventor",new z),o(this,"onSlideBefore",(e=>{this._eventor.on("slideBefore",e)})),o(this,"onSlideAfter",(e=>{this._eventor.on("slideAfter",e)})),o(this,"offSlideBefore",(()=>{this._eventor.off("slideBefore")})),o(this,"offSlideAfter",(()=>{this._eventor.off("slideAfter")})),o(this,"slideResetToMatchIndex",(()=>{const{actual:e,formatElement:t}=this._stater;t[e.activeIndex].isClone&&this.slideToActualIndex(t[e.activeIndex].matchIndex,!1)})),o(this,"slideToActualIndex",((e,t=!0)=>{var i;if(this._eventor.emit("slideBefore"),this._stater.checkActualIndexInRange(e)){const{formatElement:n}=this._stater;this._stater.setActiveActual(e,(null==(i=n[e])?void 0:i.inPage)??1);const s=this._elementor.getMoveDistance(e);this._elementor.transform(s,t).syncActiveState(e),this._syncCarousel.slideToActualIndex(e,t)}this._eventor.emit("slideAfter")})),o(this,"slideToNextPage",(()=>{const{nextPage:e,formatElement:t,page:i,actual:n,residue:s,element:r,nextPageFirstIndex:o}=this._stater,{setting:a}=this._configurator,l=t[n.activeIndex];l.isClone&&this._elementor.isAnimation||function(e,t,i){return e.isClone?[{index:e.matchIndex,isUseAnimation:!1},{index:e.matchIndex+i.slidesPerGroup,isUseAnimation:!0}]:i.isLoopMode&&t.isOverflowPage&&t.residue>0?[{index:e.actualIndex+t.residue,isUseAnimation:!0}]:i.slidesPerViewActual<t.slideTotal&&!1===t.isOverflowIndex?[{index:e.actualIndex+i.slidesPerGroup,isUseAnimation:!0}]:[]}(l,{nextPage:e,residue:s,pageTotal:i.pageTotal,slideTotal:this._stater.formatElement.length,isOverflowPage:e>i.pageTotal,isOverflowIndex:o>r.lastIndex},{slidesPerGroup:a.slidesPerGroup,slidesPerViewActual:a.slidesPerViewActual,isLoopMode:a.isEnableLoop}).forEach((e=>this.slideToActualIndex(e.index,e.isUseAnimation)))})),o(this,"slideToPrevPage",(()=>{const{nextPage:e,formatElement:t,page:i,actual:n,residue:s,element:r,nextPageFirstIndex:o}=this._stater,{setting:a}=this._configurator,l=t[n.activeIndex];l.isClone&&this._elementor.isAnimation||function(e,t,i){return e.isClone?[{index:e.matchIndex,isUseAnimation:!1},{index:e.matchIndex-1,isUseAnimation:!0}]:i.isLoopMode&&1===t.activePage&&t.residue>0?[{index:e.actualIndex-t.residue,isUseAnimation:!0}]:i.slidesPerViewActual>0?[{index:e.actualIndex-i.slidesPerGroup,isUseAnimation:!0}]:[]}(l,{activePage:this._stater.page.activePage,residue:s,pageTotal:i.pageTotal,slideTotal:this._stater.formatElement.length,isOverflowPage:e>i.pageTotal,isOverflowIndex:o>r.lastIndex},{slidesPerGroup:a.slidesPerGroup,slidesPerViewActual:a.slidesPerViewActual,isLoopMode:a.isEnableLoop}).forEach((e=>this.slideToActualIndex(e.index,e.isUseAnimation)))})),this._configurator=e.configurator,this._stater=e.stater,this._locator=e.locator,this._elementor=e.elementor,this._syncCarousel=e.syncCarousel}slideToPage(e,t=!0){const{setting:i}=this._configurator,{actual:n}=this._stater,s=function(e,t,i){return(e-1)*t+1+(i-1)}(e=e>this._stater.page.pageTotal?this._stater.page.pageTotal:e,i.slidesPerGroup,n.firstIndex);this.slideToActualIndex(s,t)}}class J{constructor(e){o(this,"_configurator"),o(this,"_controller"),o(this,"_dragger"),o(this,"_timer"),o(this,"onTimeout",(()=>{window.addEventListener("focus",this.play,!1),window.addEventListener("blur",this.pause,!1),this._controller.onSlideBefore(this.pause),this._controller.onSlideAfter(this.play),this._dragger.onDragStart(this.pause),this.play()})),o(this,"offTimeout",(()=>{window.removeEventListener("focus",this.play,!1),window.removeEventListener("blur",this.pause,!1),this._controller.offSlideBefore(),this._controller.offSlideAfter(),this._dragger.offDrapStart(),this.pause()})),o(this,"play",(()=>{const{setting:e}=this._configurator;!this.isPlaying&&e.isEnableAutoPlay&&e.autoPlayTime>0&&(this._timer=setInterval((()=>{this._controller.slideToNextPage()}),e.autoPlayTime))})),o(this,"pause",(()=>{clearInterval(this._timer),this._timer=null})),this._configurator=e.configurator,this._controller=e.controller,this._dragger=e.dragger}get isPlaying(){return this._timer}}class K{constructor(e){o(this,"_event"),this._event=e}get x(){return this._event.targetTouches[0].pageX??0}get endX(){return this._event.targetTouches[0].clientX??0}get endY(){return this._event.targetTouches[0].pageY??0}}class Q{constructor(e){o(this,"_event"),this._event=e}get x(){return this._event.clientX}get endX(){return this._event.clientX}get endY(){return this._event.pageY}}class ee{constructor(e){o(this,"_configurator"),o(this,"_controller"),o(this,"_elementor"),o(this,"_locator"),o(this,"_stater"),o(this,"_syncCarousel"),o(this,"_eventor",new z),o(this,"onDragStart",(e=>{this._elementor.containerEl.addEventListener("touchstart",this._onMobileTouchStart,{passive:!1}),this._elementor.containerEl.addEventListener("mousedown",this._onWebMouseStart,{passive:!1}),this._eventor.on("dragStart",e)})),o(this,"onDragEnd",(e=>{this._eventor.on("dragEnd",e)})),o(this,"offDrapStart",(()=>{this._elementor.containerEl.removeEventListener("touchstart",this._onMobileTouchStart,{passive:!1}),this._elementor.containerEl.removeEventListener("mousedown",this._onWebMouseStart,{passive:!1}),this._eventor.off("dragStart")})),o(this,"offDragEnd",(()=>{this._eventor.off("dragEnd")})),o(this,"_onMobileTouchStart",(e=>{this._eventor.emit("dragStart");const{containerEl:t}=this._elementor;!1===this._elementor.isUseAnimation&&(this._controller.slideResetToMatchIndex(),this._locator.touchStart(new K(e),t),t.addEventListener("touchmove",this._onMobileTouchMove,!1),t.addEventListener("touchend",this._onMobileTouchEnd,!1))})),o(this,"_onMobileTouchMove",(e=>{e.preventDefault();const t=this._locator.touchMove(new K(e),this._elementor.containerEl);this._dragMove(t)})),o(this,"_onMobileTouchEnd",(e=>{var t,i;null==(t=this._elementor.containerEl)||t.removeEventListener("touchmove",this._onMobileTouchMove,!1),null==(i=this._elementor.containerEl)||i.removeEventListener("touchend",this._onMobileTouchEnd,!1),this._dragEnd(),this._eventor.emit("dragEnd")})),o(this,"_onWebMouseStart",(e=>{var t;this._eventor.emit("dragStart"),this._controller.slideResetToMatchIndex();const{containerEl:i}=this._elementor;i&&(this._locator.touchStart(new Q(e),i),null==(t=this._elementor.rootEl)||t.addEventListener("mouseleave",this._onWebMouseEnd,!1),i.addEventListener("mousemove",this._onWebMouseMove,!1),i.addEventListener("mouseup",this._onWebMouseEnd,!1))})),o(this,"_onWebMouseMove",(e=>{e.preventDefault();const t=this._locator.touchMove(new Q(e),this._elementor.containerEl);this._dragMove(t)})),o(this,"_onWebMouseEnd",(e=>{var t,i,n;e.preventDefault(),null==(t=this._elementor.rootEl)||t.removeEventListener("mouseleave",this._onWebMouseEnd,!1),null==(i=this._elementor.containerEl)||i.removeEventListener("mousemove",this._onWebMouseMove,!1),null==(n=this._elementor.containerEl)||n.removeEventListener("mouseup",this._onWebMouseEnd,!1),this._dragEnd(),this._eventor.emit("dragEnd")})),o(this,"_dragEnd",(()=>{if(this._elementor.setNonSubjectTouch(!0),this._elementor.slideItemEls){const e=this._elementor.slideItemEls.find((e=>"true"===e.dataset.active));if(e){const t=Number(e.dataset.actual);this._controller.slideToActualIndex(t),this._syncCarousel.syncControlDone(t)}}})),this._configurator=e.configurator,this._controller=e.controller,this._elementor=e.elementor,this._elementor=e.elementor,this._stater=e.stater,this._locator=e.locator,this._syncCarousel=e.syncCarousel}_dragMove(e){this._elementor.setNonSubjectTouch(!1);const{startPosition:t}=this._locator,{setting:i}=this._configurator;if(this._elementor.containerEl&&i.isEnableMouseMove&&this._elementor.slideItemEls&&this._stater.page.pageTotal>1){const i=function(e,t){return t-e}(t.x,e),n=this._elementor.getMovePercentage(i);this._syncCarousel.syncControlMove(n),this._elementor.transform(i).syncActiveState(Math.round(n))}}}class te{constructor(e){o(this,"_carouselRef"),o(this,"syncControlMove",(e=>{if(!this._carouselRef)return null;const t=this._elementor.getPercentageToMovePx(e);this._elementor.transform(t)})),o(this,"syncControlDone",(e=>{if(!this._carouselRef)return null;this._controller.slideToActualIndex(e)})),o(this,"slideToActualIndex",((e,t=!0)=>{if(!this._carouselRef)return null;this._controller.slideToActualIndex(e,t)})),this._carouselRef=e}get _elementor(){return this._carouselRef.current._elementor}get _locator(){return this._carouselRef.current._locator}get _configurator(){return this._carouselRef.current._configurator}get _controller(){return this._carouselRef.current._controller}}const ie=({size:e=0})=>a.jsx("div",{"data-testid":"bear-carousel-windowSize",className:P.testWindowSize,children:e}),ne=(0,s.forwardRef)((({isActive:e=!1,onSlideToPage:t,page:i,pageContent:n},r)=>{const o=(0,s.useCallback)((()=>{t(i)}),[i]);return a.jsx("div",{className:P.paginationButton,ref:r,role:"button",onClick:o,"data-testid":"bear-carousel-page-button","data-active":b(e),"data-page":i,children:n&&a.jsx("div",{className:P.paginationContent,children:n})})})),se=({className:e,testId:t,onClick:i})=>a.jsx("button",{"data-testid":t,type:"button",className:e,onClick:i,children:a.jsx("div",{className:P.navIcon,children:a.jsx($,{})})}),re=({onClick:e})=>a.jsx(se,{onClick:e,className:P.navNextButton,testId:"bear-carousel-navNextButton"}),oe=({onClick:e})=>a.jsx(se,{onClick:e,className:P.navPrevButton,testId:"bear-carousel-navPrevButton"}),ae=(0,s.forwardRef)((({id:e,style:t,className:i,setting:n,actual:s,isDebug:r=!1,extendStyle:o,isEnableGpuRender:l=!0,children:c},u)=>a.jsxs("div",{ref:u,id:e,"data-testid":"bear-carousel",style:t,className:[i,P.root].join(" ").trim(),"data-gpu-render":b(l),"data-per-view-auto":b("auto"===n.slidesPerView),"data-mouse-move":n.isEnableMouseMove,"data-actual":[s.minIndex,s.firstIndex,s.lastIndex,s.maxIndex].join(","),"data-debug":b(r),children:[a.jsx("style",{scoped:!0,dangerouslySetInnerHTML:{__html:o}}),c]}))),le=!0,ce=!0;class ue extends s.Component{constructor(e){super(e),o(this,"_isEnableGpuRender",m()),o(this,"resetDurationTimer"),o(this,"state",{windowSize:0}),o(this,"_stater"),o(this,"_configurator"),o(this,"_windowSizer"),o(this,"_locator"),o(this,"_elementor"),o(this,"_controller"),o(this,"_autoPlayer"),o(this,"_dragger"),o(this,"_syncCarousel"),o(this,"_init",(()=>{if(this._elementor.containerEl){const e=this._elementor.containerEl.classList;e.contains(P.containerInit)||e.add(P.containerInit)}})),o(this,"_setControllerRef",(()=>{this.props.controllerRef&&(this.props.controllerRef.current=this._controller)})),o(this,"_onChange",(()=>{if(this.props.onChange){const{element:e,actual:t,page:i}=this._stater;this.props.onChange({element:e,actual:t,page:i})}})),o(this,"_onResize",(e=>{e.windowSize!==this.state.windowSize?this.setState({windowSize:e.windowSize}):this._controller.slideToPage(1,!1)})),o(this,"_renderNavButton",(()=>{const{renderNavButton:e}=this.props;return typeof e<"u"?a.jsx(a.Fragment,{children:e(this._controller.slideToPrevPage,this._controller.slideToNextPage)}):a.jsxs("div",{ref:this._elementor._navGroupRef,className:P.navGroup,children:[a.jsx(oe,{onClick:this._controller.slideToPrevPage}),a.jsx(re,{onClick:this._controller.slideToNextPage})]})})),o(this,"_renderSlideItems",(()=>{const{isDebug:e}=this.props,{actual:t,formatElement:i}=this._stater;return i.map(((i,n)=>{const s=i.actualIndex===t.activeIndex;return a.jsx(U,{ref:e=>this._elementor.setSlideItemRefs(e,n),element:i.element,actualIndex:i.actualIndex,matchIndex:i.matchIndex,inPage:i.inPage,sourceIndex:i.sourceIndex,isActive:s,isClone:i.isClone,isDebug:e,index:n},`bear-carousel_${i.key}`)}))})),o(this,"_renderPagination",(()=>{const{renderPagination:e}=this.props,{page:t}=this._stater,{isEnablePageContent:i}=this._configurator.setting;let n;typeof e<"u"&&(n=e(this._stater.page.pageTotal));const s=new Array(t.pageTotal).fill("").map(((e,s)=>a.jsx(ne,{ref:e=>this._elementor.setPageRefs(e,s),onSlideToPage:e=>this._controller.slideToPage(e),page:s+1,isActive:t.activePage===s+1,pageContent:i&&n[s]},`page_${s}`)));return a.jsx("div",{ref:this._elementor._pageGroupRef,"data-page-content":b(i),className:P.paginationGroup,children:s})}));const t=N(e);this._syncCarousel=new te(e.syncCarouselRef),this._windowSizer=new B(e.breakpoints,window),this._configurator=new D(e.breakpoints,t),this._stater=new G(this._configurator,e.data),this._locator=new Z,this._elementor=new F({locator:this._locator,configurator:this._configurator,stater:this._stater}),this._controller=new q({locator:this._locator,configurator:this._configurator,stater:this._stater,elementor:this._elementor,syncCarousel:this._syncCarousel}),this._dragger=new ee({locator:this._locator,configurator:this._configurator,elementor:this._elementor,stater:this._stater,controller:this._controller,syncCarousel:this._syncCarousel}),this._autoPlayer=new J({configurator:this._configurator,controller:this._controller,dragger:this._dragger}),this._stater.onChange(this._onChange),this.state={windowSize:this._windowSizer.size}}componentDidMount(){this.props.isDebug&&le&&y.printInText("[componentDidMount]"),this.props.onMount&&this.props.onMount(),this._stater.offChange(),this._elementor&&(this._stater.page.pageTotal>0&&this._controller.slideToPage(this.props.defaultActivePage??1,!1),this._windowSizer.onResize(this._onResize),this._autoPlayer.onTimeout(),this._dragger.onDragStart()),this._setControllerRef(),this._elementor.onSlideAnimation(),this._init()}componentWillUnmount(){this.props.isDebug&&ce&&y.printInText("[componentWillUnmount]"),this._autoPlayer.offTimeout(),this._windowSizer.offResize(this._onResize),this._dragger.offDrapStart(),this._dragger.offDragEnd(),this._elementor.offSlideAnimation()}shouldComponentUpdate(e,t){const{windowSize:i}=t;return v(this.props,e,["data"])||this.state.windowSize!==i||this.props.data.length!==e.data.length?(this._configurator.init(e.breakpoints,N(e)),this._stater.init(e.data),setTimeout((()=>{this._controller.slideToPage(1,!1)}),0),!0):(e.isSlideItemMemo&&this.props.data!==e.data||!!function(e,t){return(null==e?void 0:e.map((e=>e.key)).join("_"))!==(null==t?void 0:t.map((e=>e.key)).join("_"))}(this.props.data,e.data))&&(this._stater.updateData(e.data),!0)}render(){const{style:e,className:t,isDebug:i}=this.props;return a.jsx(S,{slidesPerView:this._configurator.setting.slidesPerView,staticHeight:this._configurator.setting.staticHeight,children:a.jsxs(ae,{id:this._configurator.carouselId,ref:this._elementor._rootRef,style:e,className:t,setting:this._configurator.setting,actual:this._stater.actual,isDebug:i,extendStyle:this._configurator.style,isEnableGpuRender:this._isEnableGpuRender,children:[this._stater.isVisibleNavButton&&this._renderNavButton(),a.jsx("div",{className:P.content,children:a.jsx("div",{ref:this._elementor._containerRef,className:P.container,"data-testid":"bear-carousel-container",children:this._renderSlideItems()})}),this._stater.isVisiblePagination&&this._renderPagination(),i&&a.jsx(ie,{size:this._windowSizer.size})]})})}}o(ue,"defaultProps",{data:void 0,slidesPerView:1,slidesPerGroup:1,moveTime:500,breakpoints:{},isCenteredSlides:!1,isEnableLoop:!1,isEnablePageContent:!1,isEnablePagination:!1,isEnableNavButton:!1,isEnableMouseMove:!0,isEnableAutoPlay:!1,isDebug:!1,spaceBetween:0,autoPlayTime:5e3,defaultActivePage:1,isSlideItemMemo:!1});const he=({className:e,style:t,imageUrl:i,imageAlt:n,onClick:r,onClickAllowTime:o=150})=>{const{staticHeight:l}=(0,s.useContext)(I);let c=0;return a.jsx("img",{style:t,className:[e,P.slideItemImg].join(" ").trim(),src:i,alt:n,height:l,draggable:"false",onMouseDown:r?e=>(e=>{e.preventDefault(),c=(new Date).getTime()})(e):void 0,onMouseUp:r?e=>(e=>{(new Date).getTime()-c<=o&&(e.preventDefault(),r&&r())})(e):void 0})},de=({className:e,style:t,bgUrl:i,bgSize:n,children:s,onClick:r,onClickAllowTime:o=150})=>{let l=0;return a.jsx("div",{className:[e,P.slideItemDiv].join(" ").trim(),onMouseDown:e=>{e.preventDefault(),l=(new Date).getTime()},onClick:e=>{(new Date).getTime()-l<=o&&(e.preventDefault(),r&&r())},style:{...t,backgroundImage:i?`url(${i})`:void 0,backgroundSize:n},children:s})}}}]);